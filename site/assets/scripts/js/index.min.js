
// === index.js ===

void function
()
{
  //-- if ( 'https://127.0.0.1:8080/' === 'https://127.0.0.1:8080/' ) return  //: skip service worker in dev mode
  //>
  navigator  //--  navigator.serviceWorker.register( url_s } )  //: WITHOUT Service-Worker-Allowed HTTP header 
    .serviceWorker
    .register
      (
        'https://127.0.0.1:8080/service_worker.min.js',
        {
          scope: '/'
        }
      )
    .then
      (
        () => {},   //: resolve
        error_o =>  //: reject
          console
            .log( `ServiceWorker registration failed [error: ${error_o}]` )
      )
    
  ;console.log( 'index.js' )
} ()
