
class ColorBurst{constructor(n){Object.assign(this,n),this.unit_n=360*Math.PI*2/n.range_n,this.paint_c=new Painter(n.canvas_o.getContext("2d")),n.onHueChange&&this.canvas_o.addEventListener("click",this,!1),n.onHueTrace&&this.canvas_o.addEventListener("mousemove",this,!1),this.draw__v()}coord__a(n,t){const s=n*this.unit_n;return[~~(t*Math.cos(s)+this.median_n),~~(t*Math.sin(s)+this.median_n)]}draw__v(n){console.time("draw__v");
//!!!!!!!!!!!!!!!!!!!!!!!!!!
const t=(n||1)/this.color_a.length,s=new LogScale({minpos_n:0,maxpos_n:400,minval_n:0,maxval_n:this.maxfreq_n});let i=0;for(let n of this.color_a){if(n){const _=s.position__i(n.frequency_n),[a,o]=this.coord__a(i,_);i+=t;const[e,c]=this.coord__a(i,_);this.paint_c.fill__c(n.hsl_a).path__c(`M ${a} ${o} A 1 1 0 0 1 ${e} ${c} L ${this.median_n} ${this.median_n}`)}else i+=t;0}
//!!!!!!!!!!!!!!!!!!!!!!!!!!
console.timeEnd("draw__v");
//!!!!!!!!!!!!!!!!!!!!!!!!!!
}}