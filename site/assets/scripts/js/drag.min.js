
class DragElement{gapX_n=0;gapY_n=0;offsetX_n=0;offsetY_n=0;atX_n=0;atY_n=0;skip_b=!1;constructor(t,e=!1){this.drag_e=t,this.keep_b=e,this.start__v()}start__v(){const t=this;this.drag_e.addEventListener("mousedown",(e=>(e.preventDefault(),t.skip_b||(t.gapX_n=e.clientX-t.offsetX_n,t.gapY_n=e.clientY-t.offsetY_n,t.listen__v(["mousemove","mouseup"],"add")),!1)))}handleEvent(t){if(t.preventDefault(),!this.skip_b){if("mousemove"===t.type)return this.atX_n=t.clientX-this.gapX_n,this.atY_n=t.clientY-this.gapY_n,this.offsetX_n=this.atX_n,this.offsetY_n=this.atY_n,this.drag_e.style.transform=`translate3d(${this.atX_n}px, ${this.atY_n}px, 0)`,!1;"mouseup"===t.type&&(this.drag_e.dataset.offx=~~(this.atX_n+ +this.drag_e.dataset.offx),this.drag_e.dataset.offy=~~(this.atY_n+ +this.drag_e.dataset.offy),this.keep_b||this.listen__v(["mousemove","mouseup"]))}return!1}listen__v(t,e="remove"){for(let s of t)this.drag_e[`${e}EventListener`](s,this,!1)}enable__v(){this.skip_b=!1}disable__v(){this.skip_b=!0}}