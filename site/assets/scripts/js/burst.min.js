
const BUR_o={status_o:null,center_n:0,scale_n:1,hue_n:0,message__v:e=>{switch(e.task_s){case"PUT_status":BUR_o.status_o=e.status_o;break;case"PUT_error":console.log(`ERROR: ${e.error_s}`)}},listener__v(){document.getElementById("canvas_burst_hue")?.addEventListener("click",(e=>{const _=e.offsetX*window.devicePixelRatio-BUR_o.center_n,t=e.offsetY*window.devicePixelRatio-BUR_o.center_n;let s=180*Math.atan2(t,_)/Math.PI;s<0&&(s+=360),BUR_o.hue_n=~~((s+90)%360),document.getElementById("burst_hue_n").innerHTML=BUR_o.hue_n}));for(let e of["scale_up","scale_down"])document.getElementById(`burst_${e}`)?.addEventListener("click",(e=>{e.target?.id?.includes("scale_up")&&BUR_o.scale_n<16&&(BUR_o.scale_n+=.2),e.target?.id?.includes("scale_down")&&BUR_o.scale_n>.25&&(BUR_o.scale_n-=.2),BUR_o.worker_o.post__v({client_s:"burst",id_s:"hue",task_s:"PUT_scale",scale_n:BUR_o.scale_n})}));for(let e of["sat","lum"])document.querySelector(`label[for="IN_burst_${e}"]`)?.addEventListener("click",(e=>{const _=e.target?.getAttribute("for")?.slice(-3);_&&BUR_o.worker_o.post__v({client_s:"burst",id_s:_,hue_n:BUR_o.hue_n,task_s:"PUT_draw"})}))}};BUR_o.worker_o=STAT_o.worker__o("burst","LogScale Painter ColorBurst",BUR_o.message__v),BUR_o.worker_o.post__v({client_s:"burst",id_s:"hue",task_s:"PUT_draw"}),BUR_o.center_n=.5*document.getElementById("canvas_burst_hue").width*window.devicePixelRatio,BUR_o.listener__v();