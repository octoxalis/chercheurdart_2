
const BUR_o={status_o:null,hueTrace_e:null,hueFreeze_b:!1,scale_n:1,hue_n:0,message__v:e=>{switch(e.task_s){case"PUT_status":BUR_o.status_o=e.status_o;break;case"PUT_error":console.log(`ERROR: ${e.error_s}`)}},listener__v(){const e=.5*document.getElementById("canvas_burst_hue").width*window.devicePixelRatio;BUR_o.hueTrace_e=document.getElementById("burst_hue_n");const _=_=>{if(!BUR_o.hueFreeze_b){const t=_.offsetX*window.devicePixelRatio-e,o=_.offsetY*window.devicePixelRatio-e;let s=90+~~(180*Math.atan2(o,t)/Math.PI);s<0&&(s+=360),BUR_o.hueTrace_e.innerHTML=s%360}"click"===_.type&&(BUR_o.hueFreeze_b=!BUR_o.hueFreeze_b)};for(let e of["click","mousemove"])document.getElementById("canvas_burst_hue")?.addEventListener(e,_);const t=.2;for(let e of["inc","dec"])document.getElementById(`burst_scale_${e}`)?.addEventListener("click",(e=>{let _=0;e.target?.id?.includes("_inc")&&BUR_o.scale_n<=15.8&&(_=t),e.target?.id?.includes("_dec")&&BUR_o.scale_n>=.45&&(_=-.2),_&&(BUR_o.scale_n+=_,BUR_o.worker_o.post__v({task_s:"PUT_scale",client_s:"burst",id_s:"hue",scale_n:BUR_o.scale_n}))}));for(let e of["sat","lum"])document.querySelector(`label[for="IN_burst_${e}"]`)?.addEventListener("click",(e=>{const _=e.target?.getAttribute("for")?.slice(-3);_&&BUR_o.worker_o.post__v({task_s:"PUT_draw",client_s:"burst",id_s:_,hue_n:+BUR_o.hueTrace_e.innerHTML})}))}};BUR_o.worker_o=STAT_o.worker__o("burst","LogScale Painter ColorBurst",BUR_o.message__v),BUR_o.worker_o.post__v({task_s:"PUT_draw",client_s:"burst",id_s:"hue"}),BUR_o.listener__v();