
const MATCH_o={status_o:null,message__v:e=>{switch(e.task_s){case"PUT_status":MATCH_o.status_o=e.status_o;break;case"PUT_error":console.log(`ERROR: ${e.error_s}`)}},listener__v(){document.getElementById("DI_stat_match").addEventListener("click",(e=>{const t=e.target.closest("details");if(t&&!t.dataset.loaded){for(let e of Array.from(t.querySelectorAll("canvas[data-src]"))){const t=e.transferControlToOffscreen();MATCH_o.worker_o.port_o.postMessage({task_s:"GET_img",pixel_n:window.devicePixelRatio,rect_s:`${e.dataset.locate_s} ${e.width} ${e.height}`,scale_n:e.dataset.scale_n,url_s:e.dataset.src,canvas_e:t},[t])}t.dataset.loaded=!0}}))},init__v(){MATCH_o.worker_o=STAT_o.worker__o("match",null,"",MATCH_o.message__v),MATCH_o.listener__v()}};MATCH_o.init__v();