<:root>
        --{{C_o.SECTION_a[2]}}_zoom_out_s: none;
</:root>

context( stack, new )
<section#{{C_o.SECTION_a[2]}}>
  <label[for={{C_o.INPUT_ID_s}}_{{C_o.SECTION_a[2]}}_selectAll]>
  context( block, top_button )
          display: flex;
          flex-wrap: nowrap;
          justify-content: center;
          z-index: 20;
          position: sticky;
          top: 2rem;
          left: calc( 100vw - 3rem );
    <span>
            width: 50%;
    </span>
  </label>
  +
  <input />
          display: none;
  <label[for={{C_o.INPUT_ID_s}}_{{C_o.SECTION_a[2]}}_selectAll]:hover>
          background: {{S_o.shadow_ne}};
  </label>
  <label#{{C_o.LABEL_ID_s}}_{{C_o.SECTION_a[2]}}_zoom_out>
          z-index: 101;
          display: var(--{{C_o.SECTION_a[2]}}_zoom_out_s);
  context( block, top_button )
          position: sticky;
          top: 2rem;
          left: calc( 50vw - 1rem );
  </label>
  <label#{{C_o.LABEL_ID_s}}_{{C_o.SECTION_a[2]}}_zoom_out:hover>
          cursor: zoom-out;
          background: {{S_o.shadow_ne}};
            /*filter: brightness( 2 );*/
  </label>
  <div#{{C_o.DIV_ID_s}}_{{C_o.SECTION_a[2]}}_masonry>
        --col_width: calc( (100 / var(--{{C_o.SECTION_a[2]}}_wrap_n, 2) - 2 ) * 1% );  /* default var: 2 */
        display: flex;
        flex-wrap: wrap;
        gap: {{S_o.PAD_2}};
        padding: calc( {{S_o.NAV_HEIGHT_s}} + {{S_o.PAD_4}} ) 1vmin 1vmin;
        max-width: 100vw;
    <figure>
            width: var(--col_width);
            display: grid;
            position: relative;
            height: fit-content;
            cursor: zoom-in;
      <img/>
              position: relative;
              top: 0;
              left: 0;
              width: 100%;
              height: auto;
              cursor: zoom-in;
              transition: all .5s ease;
      <img class='fullsize' />
              position: absolute;
              z-index: 100;       /* cover all */
              top: 0;
              left: 0;
              width: auto;
              cursor: move;
              box-shadow: 0 0 0 1000vmax {{S_o.shadow_full}};
              transition: all .5s ease;
      <a>
              /*context( block, link_regular )*/
              position: absolute;
              top: 0;
              width: 100%;
              border: none;
      </a>
      <figcaption>
              position: relative;
              padding: calc( {{S_o.FIGURE_BORDER_s}} * 2);
              width: clamp( 50%, 32ch, 80% );                           /* keep space for img selection */
              height: fit-content;
              border-bottom-right-radius: 18px;
              background: {{S_o.shadow_hi}};
              cursor: pointer;
              opacity: 0;
              transition: opacity .3s;
        <a>
                /*context( block, link_regular )*/
        </a>
        <{{C_o.ROW_TAG_s}}>
                  context( block, cartel )
          <i>
                  font-size: 95%;
                  font-weight: 200;
                  font-style: normal;
          </i>
          <i:first-of-type::after>
                  content: '\00A0\{{S_o.DIM_SEPARATOR_s}}\00A0';
          </i>
          <a>
          /*context( block, link_regular )*/
          /*context( block, reference_2 )*/
          </a>
          <a:hover>
                  /*context( block, link_hover )*/
          </a>
        </{{C_o.ROW_TAG_s}}>
        <{{C_o.ROW_TAG_s}}:nth-of-type(3)>
                width: 100%;
        </{{C_o.ROW_TAG_s}}>
        <{{C_o.ROW_TAG_s}}:nth-of-type(4)>
                padding-top: {{S_o.PAD_4}};
        </{{C_o.ROW_TAG_s}}>
      </figcaption>
      <figcaption:hover>
              clip-path: inset( {{S_o.FIGURE_BORDER_s}} );
              opacity: 1;
              transition: opacity .3s;
      </figcaption>
    </figure>

    <figure[data-display_b=false]>
            border: 1px solid {{S_o.selected_lo}};
            border-radius: 4px;
      <img />
            opacity: .01;
    </figure>
    <figure[class="selected"]:before>
            content: '';
            z-index: 1;
            position: absolute;
            top: 0;
            left: 0;
            width: {{S_o.PAD_4}};
            height: {{S_o.PAD_4}};
            border: 2px solid {{S_o.selected_hi}};
            border-radius: 4px;
            background: {{S_o.selected_hi}};
    </figure>
  </div>


  <div#{{C_o.DIV_ID_s}}_{{C_o.SECTION_a[2]}}_dock>
          display: flex;
          flex-direction: column;
          position: fixed;                         /* !!!!!!! TODO */
          top: 0;
          left: 0;
          width: 288px;
          padding: {{S_o.PAD_2}};
          transform: translateX( -258px );  /* 288 - 30 */
          transition: .4s ease;
    <nav>
            flex-direction: column;
            align-self: flex-end;
            padding: 0;
      <label>
                font-size: 85%;
        <span[data-role]>
                background: {{S_o.nav_dot_set_4}};
                border-radius: 6px;
        </span>
      </label>
      <label:hover>
        <span>
                background: transparent;
        </span> 
      </label>
    </nav>
    <nav:hover>
            width: 100%;
            background: hsla( {{S_o.hue_p}} {{S_o.sat_lo_2}} {{S_o.lum_hi_4}} /1);  /* {{S_o.table}} opaque */
    </nav>
    <input>
    context( copy, next )
    </input>
    +
    <div>
            display: none;
    </div>
    <input:checked>
    </input>
    +
    <div>
          display: flex;
          flex-direction: column;
          margin-top:  {{S_o.PAD_3}};
          padding: {{S_o.PAD_2}};
          background: {{S_o.table}};
          border-radius: 4px;
      <label>
              margin: {{S_o.PAD_2}};
              text-align: center;
              text-transform: uppercase;
              border-radius: 4px;
              border: 2px solid {{S_o.shadow_hi}};
              font-size: 85%;
      </label>
      <label:hover>
              filter: invert( .5 ) brightness( {{S_o.brightness_hi}} );
      </label>
      <label:nth-of-type(1)>
              position: relative;
              top: -{{S_o.PAD_4}};
              text-align: left;
              /*text-transform: uppercase;*/
              font-size: 75%;
              border: none;
              opacity: .5;
      </label>
      <input[type=range]>
              align-self: center;
              position: relative;
              top: -{{S_o.PAD_4}};
              width: 200px;
              background: transparent;
              cursor: pointer;
              transform: scaleY( {{C_o.INPUT_RANGE_SCALEY_n}} );
      </input>
      <input[type=range]:focus>
              outline: none;
              filter: hue-rotate( -220deg );
      </input>
    </div>
  </div#{{C_o.DIV_ID_s}}_{{C_o.SECTION_a[2]}}_dock>

  <div#{{C_o.DIV_ID_s}}_{{C_o.SECTION_a[2]}}_dock:hover>
    /* border-top-right-radius: 16px;*/
    /* border-bottom-right-radius: 16px;*/
    /* box-shadow: 0 0 0 1000vmax hsla( 190 28% 25.5% /.75);*/
    /* background: hsla( {{S_o.hue_p}} {{S_o.sat_lo_2}} {{S_o.lum_hi_4}} /1);*/  /* {{S_o.table}} opaque */
    context( block, settings )
          transform: translateX( 0 );
    <nav>
            align-self: center;
    </nav>
  </div>



  <div#{{C_o.DIV_ID_s}}_{{C_o.SECTION_a[2]}}_masonry>
    <figure>
      <*>
              grid-area: 1/-1;
      </*>
    </figure>
  </div>
  
</section>

context( stack, new )
<body:has( #{{C_o.SECTION_a[2]}} )>
  <nav>
    <label#{{C_o.LABEL_ID_s}}_{{C_o.SECTION_a[1]}}>
            visibility: hidden;
    </label>
  </nav>
</body>


<dialog#dialog_{{C_o.SECTION_a[2]}}_caption>
        display: none;
        position: absolute;
        margin: auto;
        padding: {{S_o.PAD_4}};
        width: clamp(40ch, 80ch, 80vw);
        background: {{S_o.form_bg}};
        border: none;
        border-radius: 4px;
  <form>
          grid-area: 1/-1
    <div#{{C_o.DIV_ID_s}}_{{C_o.SECTION_a[2]}}_caption>
              display: flex;
              flex-direction: column;
      <header>
              display: flex;
              gap: {{S_o.PAD_8}};
              border-bottom: 1px solid {{S_o.form_label}};
              text-transform: uppercase;
        <label>
                width: 2rem;
                height: 2rem;
                text-transform: uppercase;
                font-size: 120%;
                font-weight: 600;
                color: {{S_o.darker}};
        </label>
        <label:nth-of-type(1)>
                flex-grow: 2;
        </label>
        <label:nth-of-type(2)>
                color: {{S_o.cancel_hi}};
        </label>
        <label:nth-of-type(4)>
                color: {{S_o.accept_hi}};
        </label>
        <label:not(:nth-of-type(1)):hover>
                filter: brightness( 4 );
        </label>
        <input>
                display: none;
        </input>
      </header>
    </div>
  </form>
</dialog>
<dialog#dialog_{{C_o.SECTION_a[2]}}_caption[open]>
        display: grid;
</dialog>
<dialog#dialog_{{C_o.SECTION_a[2]}}_caption[open]::backdrop>
        background: {{S_o.form_shadow}};
</dialog>

<ul#{{C_o.LIST_ID_s}}_{{C_o.SECTION_a[2]}}_caption_list>
        display: flex;
        flex-direction: column;
        border: none;
  <li[id^=item_]>
          display: flex;
          justify-content: space-between;
          width: 90%;
    <label[control]>
            width: 30%;
            line-height: 2rem;
            text-transform: uppercase;
            font-size: 85%;
            vertical-align: bottom;
            color: {{S_o.form_label}};
    </label>
    <input[type=text]/>
            flex-grow: 2;
            border: none;
            border-bottom: 1px solid {{S_o.form_text_lo}};
            outline: none;
            background: transparent;
            color: {{S_o.form_text}};
          font-size: 85%;
  </li>
  <li:before>
            content: '';
            border: none;
  </li>
</ul>
