<:root>
        --{{C_o.STAT_a[2]}}_perspective: {{C_o.PAINT_PERSPECTIVE_n}};
        --{{C_o.STAT_a[2]}}_distance:    {{C_o.PAINT_DISTANCE_n}};
        --{{C_o.STAT_a[2]}}_rotate:      {{C_o.PAINT_ROTATE_n}};
        --{{C_o.STAT_a[2]}}_distance_x:  {{C_o.PAINT_DISTANCE_X_n}};        /* factor */
        --{{C_o.STAT_a[2]}}_scale:       {{C_o.PAINT_SCALE_n}};

        --{{C_o.STAT_a[2]}}_scale_layer_0: 1;
        --{{C_o.STAT_a[2]}}_scale_layer_1: 1;
        --{{C_o.STAT_a[2]}}_scale_layer_2: 1;
        --{{C_o.STAT_a[2]}}_scale_layer_3: 1;
        --{{C_o.STAT_a[2]}}_scale_layer_4: 1;
        --{{C_o.STAT_a[2]}}_scale_layer_5: 1;
        --{{C_o.STAT_a[2]}}_scale_layer_6: 1;
        --{{C_o.STAT_a[2]}}_scale_layer_7: 1;

        
        --{{C_o.STAT_a[2]}}_setop_display: none;
        --{{C_o.STAT_a[2]}}_hue_trace: 0;
        --{{C_o.STAT_a[2]}}_sat_trace: 0;
        --{{C_o.STAT_a[2]}}_lum_trace: 0;
        --{{C_o.STAT_a[2]}}_hue_back: {{S_o.hue_p}};
        --{{C_o.STAT_a[2]}}_back_sat: 100;
        --{{C_o.STAT_a[2]}}_back_lum: 50;
</:root>




<body>
        overflow: auto;
</body>

<section#{{C_o.STAT_a[2]}}>
        min-height: 300vmin;
        min-width:  300vmin;
</section>

<div#{{C_o.DIV_ID_s}}_stat_{{C_o.STAT_a[2]}}>
    <div[data-layer_n]>
            --{{C_o.STAT_a[2]}}_perspectiveX:  calc(var(--{{C_o.STAT_a[2]}}_perspective) * 1px);
            --{{C_o.STAT_a[2]}}_translateX:    calc( var(--{{C_o.STAT_a[2]}}_distance) * var(--{{C_o.STAT_a[2]}}_distance_x) * 1px);
            --{{C_o.STAT_a[2]}}_rotateY:       calc( var(--{{C_o.STAT_a[2]}}_rotate) * 1deg );
            display: grid;
            position: absolute;
            /*border: 4px solid {{S_o.light_07}};*/
            background: hsla( var(--{{C_o.STAT_a[2]}}_hue_back) calc( var(--{{C_o.STAT_a[2]}}_back_sat) * 1% ) calc( var(--{{C_o.STAT_a[2]}}_back_lum) * 1% ) / 1);
            perspective-origin: center center;
            transform: perspective( var(--{{C_o.STAT_a[2]}}_perspectiveX) )
                       translateX( var(--{{C_o.STAT_a[2]}}_translateX) )
                       rotateY( var(--{{C_o.STAT_a[2]}}_rotateY) )
                       scale( var(--{{C_o.STAT_a[2]}}_scale_layer) );
      <canvas>
                grid-area: 1/-1;
                background: transparent;
      </canvas>
      <canvas:nth-of-type(2)>
      </canvas>
    </div>
    <div[data-layer_n="0"]>
        --{{C_o.STAT_a[2]}}_distance_x: -3;
        --{{C_o.STAT_a[2]}}_scale_layer: calc( var(--{{C_o.STAT_a[2]}}_scale) * var(--{{C_o.STAT_a[2]}}_scale_layer_0) )
    </div>
    <div[data-layer_n="1"]>
          --{{C_o.STAT_a[2]}}_distance_x: -2;
          --{{C_o.STAT_a[2]}}_scale_layer: calc( var(--{{C_o.STAT_a[2]}}_scale) * var(--{{C_o.STAT_a[2]}}_scale_layer_1) )
        </div>
    <div[data-layer_n="2"]>
          --{{C_o.STAT_a[2]}}_distance_x: -1;
          --{{C_o.STAT_a[2]}}_scale_layer: calc( var(--{{C_o.STAT_a[2]}}_scale) * var(--{{C_o.STAT_a[2]}}_scale_layer_2) )
    </div>
    <div[data-layer_n="3"]>
          --{{C_o.STAT_a[2]}}_distance_x: 0;
          --{{C_o.STAT_a[2]}}_scale_layer: calc( var(--{{C_o.STAT_a[2]}}_scale) * var(--{{C_o.STAT_a[2]}}_scale_layer_3) )
    </div>
    <div[data-layer_n="4"]>
          --{{C_o.STAT_a[2]}}_distance_x: 1;
          --{{C_o.STAT_a[2]}}_scale_layer: calc( var(--{{C_o.STAT_a[2]}}_scale) * var(--{{C_o.STAT_a[2]}}_scale_layer_4) )
    </div>
    <div[data-layer_n="5"]>
          --{{C_o.STAT_a[2]}}_distance_x: 2;
          --{{C_o.STAT_a[2]}}_scale_layer: calc( var(--{{C_o.STAT_a[2]}}_scale) * var(--{{C_o.STAT_a[2]}}_scale_layer_5) )
    </div>
    <div[data-layer_n="6"]>
          --{{C_o.STAT_a[2]}}_distance_x: 3;
          --{{C_o.STAT_a[2]}}_scale_layer: calc( var(--{{C_o.STAT_a[2]}}_scale) * var(--{{C_o.STAT_a[2]}}_scale_layer_6) )
    </div>
    <div[data-layer_n="7"]>
          --{{C_o.STAT_a[2]}}_distance_x: 4;
          --{{C_o.STAT_a[2]}}_scale_layer: calc( var(--{{C_o.STAT_a[2]}}_scale) * var(--{{C_o.STAT_a[2]}}_scale_layer_7) )
    </div>

    <div[data-layer_b="0"]>
            display: none;
    </div>
  
</div>

<div#{{C_o.DIV_ID_s}}_{{C_o.STAT_a[2]}}_settings>
        display: none;
        z-index: 10;
        position: fixed;
        top: {{S_o.PAD_8}};
        left: 0;
        width: {{S_o.NAV_SETTINGS_s}};
        height: fit-content;
context( block, settings )
        box-shadow: 0 0 0 1000vmax {{S_o.light_07}};
        transform: translateX( -{{S_o.NAV_SETTINGS_s}} );
        transition: transform .5s ease;
</div>
<!--variant-->
<input#{{C_o.INPUT_ID_s}}_{{C_o.STAT_a[2]}}_settings:checked />
~
<div#{{C_o.DIV_ID_s}}_{{C_o.STAT_a[2]}}_settings>
        display: block;
        overflow-X: hidden;
        overflow-Y: auto;
        transform: translateX( 0 );
  <aside>
          display: flex;
          flex-direction: column;
          gap: {{S_o.PAD_4}};
          width: 100%;
          height: fit-content;
    <nav>
            flex-direction: column;
            gap: {{S_o.PAD_6}};
      <label>
        <span[data-role=open]>
                background: {{S_o.dot_set_3}};
        </span>
      </label>
      <label:hover>
        <span>
                background: transparent;
        </span> 
      </label>
    </nav>

  </aside>
  <aside>
    <ul>
    context( copy, next )
    </ul>
    <div>
            margin: 0 {{S_o.PAD_8}}};    /* left space for input data-tip */
    </div>
  </aside>
</div>




<ul[id^="{{C_o.LIST_ID_s}}_{{C_o.STAT_a[2]}}_layer_"]>
        width: 100%;
        border: none;
 <li>
          padding: 0;
          list-style: none;
  <input />
          display: none;
  <label>
          display: grid;
          justify-items: center;
          margin: 2px 0;
          border-radius: 2px;
          border: 1px solid {{S_o.light_05}};
          font-size: 85%;
  </label>
  <label:not(:first-of-type):hover>
          filter: brightness( {{S_o.brightness_lo}} );
          background: {{S_o.light_02}};
  </label>
  <!--variant-->
  <input:checked />
  +
  <label>
          background: {{S_o.bg_hi}};
  </label>
</li>
<li:not(:first-child)>
  <label>
          cursor: pointer;
  </label>
  <label[for]:hover>
            filter: brightness( {{S_o.brightness_lo}} );
            background: {{S_o.light_02}};
  </label>
</li>
<li:before>
        content: '';    /* overide */
</li>
<li[data-layer_b="0"]>    /* masked */
        opacity: .25;
</li>
<li#{{C_o.LIST_ITEM_ID_s}}_{{C_o.STAT_a[2]}}_layer_set_deviation>
  <label>
          margin-top: {{S_o.PAD_4}};
          border: none;
          cursor: auto;
  </label>
  <input />
          display: block;
          width: 100%;
          background: transparent;
          cursor: pointer;
          transform: scaleY( {{C_o.INPUT_RANGE_SCALEY_n}} );
  </li>
</ul>
<ul#{{C_o.LIST_ID_s}}_{{C_o.STAT_a[2]}}_layer_setop>
      display: var(--{{C_o.STAT_a[2]}}_setop_display);
<label>
        text-transform: none;
</label>
</ul>

<div#{{C_o.DIV_ID_s}}_{{C_o.STAT_a[2]}}_layer_setup>
      display: flex;
      flex-direction: column;
      gap: {{S_o.PAD_1}};
      padding: 0;
  <label>
          width: 100%;
          text-align: center;
          text-transform: uppercase;
          border-radius: 4px;
          border: 2px solid {{S_o.light_07}};
          font-size: 85%;
  </label>
  <label:hover>
          filter: invert( .5 ) brightness( {{S_o.brightness_hi}} );
  </label>
</div>

<div[id^={{C_o.DIV_ID_s}}_{{C_o.STAT_a[2]}}_slide]>
        display: flex;
        flex-direction: column;
        position: relative;
        padding: {{S_o.PAD_4}};
        height: fit-content;
  <input[type=range] />
          position: absolute;
          margin: -{{S_o.PAD_4}} 0;
          width: 100px;
          background: transparent;
          cursor: pointer;
          transform: scaleY( {{C_o.INPUT_RANGE_SCALEY_n}} );
  <input[type=range]:nth-of-type( 2n ) />
          width: 200px;
          transform: translate( -{{S_o.PAD_2}}, {{S_o.PAD_4}} ) rotate( 90deg ) scaleY( .3 );
          transform-origin: top left;
  <input#{{C_o.INPUT_ID_s}}_{{C_o.STAT_a[2]}}_hue_rangeY_n />
          width: 720px;  /* 360 * 2px */
  <input[type=range]:focus />
          outline: none;
  <input[type=range]::-webkit-slider-runnable-track />
          width: 100px;
          height: 16px;
  
  <div>
            display:grid;
    <canvas>
            grid-area: 1/-1;
            background: transparent;
            cursor: crosshair;
    </canvas>
  </div>
  
  <label#{{C_o.LABEL_ID_s}}_{{C_o.STAT_a[2]}}_hue_trace>
          top: calc( var(--{{C_o.STAT_a[2]}}_hue_trace) * 1px );
  </label>
  <label#{{C_o.LABEL_ID_s}}_{{C_o.STAT_a[2]}}_sat_trace>
          top: calc( var(--{{C_o.STAT_a[2]}}_sat_trace) * 1px );
  </label>
  <label#{{C_o.LABEL_ID_s}}_{{C_o.STAT_a[2]}}_lum_trace>
          top: calc( var(--{{C_o.STAT_a[2]}}_lum_trace) * 1px );
  </label>
  <label[id$="_trace"]>
          position: relative;
          left: 100px;          /* canvas width */
          display: flex;
          /*flex-direction: row-reverse;*/
          justify-content: space-between;
          width: 6ch;
    <output>
            width: 6ch;
            height: {{S_o.PAD_4}};
            line-height: {{S_o.PAD_4}};    /* vertical centering */
            color: hsla( var(--{{C_o.STAT_a[2]}}_hue_back) calc( var(--{{C_o.STAT_a[2]}}_back_sat) * 1% ) calc( var(--{{C_o.STAT_a[2]}}_back_lum) * 1% ) / 1);
            background: transparent;
            font-size: 90%;
            font-weight: 500;
            border: none;
            opacity: 0;
    </output>
    <output:first-of-type>
            width: 3ch;
    </output>
    <span>
            width: {{S_o.PAD_3}};
            height: {{S_o.PAD_3}};
            background: hsla( var(--{{C_o.STAT_a[2]}}_hue_back) calc( var(--{{C_o.STAT_a[2]}}_back_sat) * 1% ) calc( var(--{{C_o.STAT_a[2]}}_back_lum) * 1% ) / 1);
            border: 2px solid currentColor;
            border-radius: 50%;
    </span>
  </label>
  <label[id$="_trace"]:hover>
          cursor: url( /assets/styles/css/paint_brush.svg ) 32 32, auto;
          transform: scale( 1.3 ) translateX( -{{S_o.PAD_1}} );
          transition: transform .5s;
    <span>
            background: transparent;
            filter: brightness( {{S_o.brightness_hi}} );
    </span>
    <output>
            opacity: 1;    /* reveal */
    </output>
  </label>
</div>





context( stack, new )
<div#{{C_o.DIV_ID_s}}_{{C_o.STAT_a[2]}}_dock>
          display: flex;
          flex-direction: column;
          position: fixed;                         /* !!!!!!! TODO */
          top: 0;
          left: 0;
          width: 288px;
          padding: {{S_o.PAD_2}};
          transform: translateX( -258px );  /* 288 - 30 */
          transition: .4s ease;
    <nav>
            flex-direction: column;
            align-self: flex-end;
            padding: 0;
      <label>
                font-size: 85%;
        <span[data-role]>
                background: {{S_o.dot_set_4}};
                border-radius: 6px;
        </span>
      </label>
      <label:hover>
        <span>
                background: transparent;
        </span> 
      </label>
    </nav>
    <nav:hover>
            width: 100%;
            background: hsla( {{S_o.hue_p}} {{S_o.sat_lo_4}} {{S_o.lum_hi_100}} /1);  /* {{S_o.bg_hi}} opaque */
    </nav>


    <input>
    context( copy, next )
    </input>
    +
    <div>
            display: none;
    </div>
    <input:checked>
    </input>
    +
    <div>
          display: flex;
          flex-direction: column;
          margin-top:  {{S_o.PAD_3}};
          padding: {{S_o.PAD_2}};
          background: {{S_o.bg_hi}};
          border-radius: 4px;
      <label>
              margin: {{S_o.PAD_2}};
              text-align: center;
              text-transform: uppercase;
              border-radius: 4px;
              border: 2px solid {{S_o.light_07}};
              font-size: 85%;
      </label>
      <label:hover>
              filter: invert( .5 ) brightness( {{S_o.brightness_hi}} );
      </label>
      <label:nth-of-type(1)>
              position: relative;
              top: -{{S_o.PAD_4}};
              text-align: left;
              /*text-transform: uppercase;*/
              font-size: 75%;
              border: none;
              opacity: .5;
      </label>
      <input[type=range]>
              align-self: center;
              position: relative;
              top: -{{S_o.PAD_4}};
              width: 200px;
              background: transparent;
              cursor: pointer;
              transform: scaleY( {{C_o.INPUT_RANGE_SCALEY_n}} );
      </input>
      <input[type=range]:focus>
              outline: none;
              filter: hue-rotate( -220deg );
      </input>
    </div>
</div#{{C_o.DIV_ID_s}}_{{C_o.STAT_a[2]}}_dock>
<div#{{C_o.DIV_ID_s}}_{{C_o.STAT_a[2]}}_dock:hover>
    /* border-top-right-radius: 16px;*/
    /* border-bottom-right-radius: 16px;*/
    /* box-shadow: 0 0 0 1000vmax hsla( 211 28% 25.5% /.75);*/
    /*background: hsla( {{S_o.hue_p}} {{S_o.sat_lo_4}} {{S_o.lum_hi_100}} /1);*/  /* {{S_o.bg_hi}} opaque */
    context( block, settings )
          transform: translateX( 0 );
    <nav>
            align-self: center;
    </nav>
</div>






context( stack, new )
<div class="raised">
        z-index: 5;
</div>
<div.raised:before>
        content: '';
        position: absolute;
        top: -{{S_o.PAD_16}};
        left: 0;
        width: {{S_o.PAD_16}};
        height:  {{S_o.PAD_16}};
        border: 4px solid  {{S_o.medium_07}};
        border-radius: 8px;
        background: transparent;
</div>

<canvas class="cursor_move">
        cursor: move;
</canvas>

<canvas class="cursor_resize">
        cursor: nwse-resize;
</canvas>
